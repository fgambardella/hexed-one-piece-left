<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module hexed_gui</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title">hexed_gui</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:/home/flavio/Games/hexed-one-piece-left/hexed_gui.py">/home/flavio/Games/hexed-one-piece-left/hexed_gui.py</a></td></tr></table>
    <p></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="math.html">math</a><br>
<a href="pygame.html">pygame</a><br>
</td><td class="multicolumn"><a href="random.html">random</a><br>
<a href="sys.html">sys</a><br>
</td><td class="multicolumn"><a href="time.html">time</a><br>
</td><td class="multicolumn"></td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor index-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Classes</strong></td></tr>
    
<tr><td class="decor index-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl>
<dt class="heading-text"><a href="builtins.html#object">builtins.object</a>
</dt><dd>
<dl>
<dt class="heading-text"><a href="hexed_gui.html#HexGame">HexGame</a>
</dt></dl>
</dd>
</dl>
 <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="HexGame">class <strong>HexGame</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code">A&nbsp;class&nbsp;to&nbsp;represent&nbsp;and&nbsp;solve&nbsp;a&nbsp;Hexagon&nbsp;tiling&nbsp;puzzle&nbsp;manually&nbsp;or&nbsp;<br>
automatically&nbsp;using&nbsp;a&nbsp;backtracking&nbsp;algorithm&nbsp;with&nbsp;visual&nbsp;representation.<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="HexGame-__init__"><strong>__init__</strong></a>(self)</dt><dd><span class="code">Initialize&nbsp;the&nbsp;<a href="#HexGame">HexGame</a>,&nbsp;setting&nbsp;up&nbsp;the&nbsp;Pygame&nbsp;window,&nbsp;grid,&nbsp;pieces,&nbsp;and&nbsp;solver.</span></dd></dl>

<dl><dt><a name="HexGame-calc_metrics"><strong>calc_metrics</strong></a>(self, scale_h=None)</dt><dd><span class="code">Calculate&nbsp;the&nbsp;scaling&nbsp;and&nbsp;offsets&nbsp;to&nbsp;center&nbsp;the&nbsp;hexagon&nbsp;grid&nbsp;on&nbsp;the&nbsp;screen.</span></dd></dl>

<dl><dt><a name="HexGame-can_place"><strong>can_place</strong></a>(self, shapes, r, c)</dt><dd><span class="code">Check&nbsp;if&nbsp;a&nbsp;piece&nbsp;can&nbsp;be&nbsp;placed&nbsp;at&nbsp;the&nbsp;specified&nbsp;coordinates.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;shapes&nbsp;(list):&nbsp;List&nbsp;of&nbsp;relative&nbsp;coordinates&nbsp;(dr,&nbsp;dc)&nbsp;for&nbsp;the&nbsp;piece&nbsp;shape.<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;(int):&nbsp;Target&nbsp;row.<br>
&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;(int):&nbsp;Target&nbsp;column.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool:&nbsp;True&nbsp;if&nbsp;the&nbsp;piece&nbsp;can&nbsp;be&nbsp;placed,&nbsp;False&nbsp;otherwise.</span></dd></dl>

<dl><dt><a name="HexGame-draw"><strong>draw</strong></a>(self)</dt><dd><span class="code">Render&nbsp;the&nbsp;game&nbsp;state&nbsp;to&nbsp;the&nbsp;screen.</span></dd></dl>

<dl><dt><a name="HexGame-fit_graphics_and_layout"><strong>fit_graphics_and_layout</strong></a>(self)</dt><dd><span class="code">Iteratively&nbsp;adjusts&nbsp;the&nbsp;scale&nbsp;to&nbsp;ensure&nbsp;both&nbsp;the&nbsp;grid&nbsp;and&nbsp;the&nbsp;inventory&nbsp;pieces&nbsp;fit&nbsp;on&nbsp;screen.</span></dd></dl>

<dl><dt><a name="HexGame-generate_random_pieces"><strong>generate_random_pieces</strong></a>(self)</dt><dd><span class="code">Generate&nbsp;random&nbsp;puzzle&nbsp;pieces&nbsp;to&nbsp;fill&nbsp;the&nbsp;grid.<br>
&nbsp;<br>
This&nbsp;algorithm&nbsp;works&nbsp;by:<br>
1.&nbsp;Starting&nbsp;with&nbsp;a&nbsp;full&nbsp;grid&nbsp;of&nbsp;available&nbsp;cells.<br>
2.&nbsp;Randomly&nbsp;selecting&nbsp;an&nbsp;empty&nbsp;cell&nbsp;to&nbsp;start&nbsp;a&nbsp;new&nbsp;piece.<br>
3.&nbsp;"Growing"&nbsp;the&nbsp;piece&nbsp;by&nbsp;randomly&nbsp;adding&nbsp;unvisited&nbsp;neighbors&nbsp;until&nbsp;a&nbsp;desired&nbsp;size&nbsp;is&nbsp;reached.<br>
4.&nbsp;Repeating&nbsp;this&nbsp;process&nbsp;until&nbsp;the&nbsp;entire&nbsp;grid&nbsp;is&nbsp;covered.<br>
5.&nbsp;If&nbsp;the&nbsp;random&nbsp;generation&nbsp;leaves&nbsp;tiny&nbsp;gaps&nbsp;(&lt;&nbsp;3&nbsp;cells)&nbsp;or&nbsp;fails,&nbsp;it&nbsp;restarts&nbsp;from&nbsp;scratch.</span></dd></dl>

<dl><dt><a name="HexGame-get_neighbors"><strong>get_neighbors</strong></a>(self, r, c)</dt><dd><span class="code">Get&nbsp;the&nbsp;neighbors&nbsp;of&nbsp;a&nbsp;given&nbsp;cell&nbsp;in&nbsp;the&nbsp;grid.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;(int):&nbsp;Row&nbsp;index.<br>
&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;(int):&nbsp;Column&nbsp;index.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;List&nbsp;of&nbsp;(row,&nbsp;col)&nbsp;tuples&nbsp;representing&nbsp;neighbor&nbsp;coordinates.</span></dd></dl>

<dl><dt><a name="HexGame-get_piece_under_mouse"><strong>get_piece_under_mouse</strong></a>(self, mx, my)</dt><dd><span class="code">Finds&nbsp;a&nbsp;piece&nbsp;under&nbsp;the&nbsp;mouse&nbsp;cursor.<br>
Prioritizes&nbsp;pieces&nbsp;in&nbsp;inventory,&nbsp;then&nbsp;grid.</span></dd></dl>

<dl><dt><a name="HexGame-get_triangle_points"><strong>get_triangle_points</strong></a>(self, r, c)</dt><dd><span class="code">Calculate&nbsp;the&nbsp;screen&nbsp;coordinates&nbsp;for&nbsp;the&nbsp;vertices&nbsp;of&nbsp;a&nbsp;triangular&nbsp;cell.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;(int):&nbsp;Row&nbsp;index.<br>
&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;(int):&nbsp;Column&nbsp;index.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;List&nbsp;of&nbsp;(x,&nbsp;y)&nbsp;tuples&nbsp;for&nbsp;the&nbsp;triangle&nbsp;vertices.</span></dd></dl>

<dl><dt><a name="HexGame-handle_input"><strong>handle_input</strong></a>(self)</dt></dl>

<dl><dt><a name="HexGame-init_hexagon_grid"><strong>init_hexagon_grid</strong></a>(self)</dt><dd><span class="code">Initialize&nbsp;the&nbsp;hexagonal&nbsp;grid&nbsp;coordinates.<br>
The&nbsp;grid&nbsp;is&nbsp;represented&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;where&nbsp;keys&nbsp;are&nbsp;(row,&nbsp;col)&nbsp;tuples.<br>
&nbsp;<br>
The&nbsp;grid&nbsp;structure&nbsp;creates&nbsp;a&nbsp;large&nbsp;hexagon&nbsp;composed&nbsp;of&nbsp;smaller&nbsp;triangles.<br>
It&nbsp;does&nbsp;this&nbsp;by&nbsp;stacking&nbsp;rows&nbsp;of&nbsp;varying&nbsp;lengths&nbsp;(number&nbsp;of&nbsp;triangles).<br>
Rows&nbsp;start&nbsp;shorter&nbsp;at&nbsp;the&nbsp;top,&nbsp;widen&nbsp;to&nbsp;the&nbsp;middle,&nbsp;and&nbsp;narrow&nbsp;again&nbsp;at&nbsp;the&nbsp;bottom.</span></dd></dl>

<dl><dt><a name="HexGame-is_solved"><strong>is_solved</strong></a>(self)</dt><dd><span class="code">Check&nbsp;if&nbsp;the&nbsp;puzzle&nbsp;is&nbsp;completely&nbsp;solved.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool:&nbsp;True&nbsp;if&nbsp;all&nbsp;grid&nbsp;cells&nbsp;are&nbsp;filled,&nbsp;False&nbsp;otherwise.</span></dd></dl>

<dl><dt><a name="HexGame-layout_inventory"><strong>layout_inventory</strong></a>(self)</dt><dd><span class="code">Calculates&nbsp;screen&nbsp;positions&nbsp;for&nbsp;all&nbsp;unplaced&nbsp;pieces&nbsp;in&nbsp;the&nbsp;inventory&nbsp;area.<br>
Returns&nbsp;True&nbsp;if&nbsp;they&nbsp;all&nbsp;fit,&nbsp;False&nbsp;otherwise.</span></dd></dl>

<dl><dt><a name="HexGame-place_piece"><strong>place_piece</strong></a>(self, piece, r, c, remove=False)</dt><dd><span class="code">Place&nbsp;or&nbsp;remove&nbsp;a&nbsp;piece&nbsp;from&nbsp;the&nbsp;grid.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;piece&nbsp;(dict):&nbsp;The&nbsp;piece&nbsp;<a href="builtins.html#object">object</a>&nbsp;to&nbsp;place/remove.<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;(int):&nbsp;Row&nbsp;coordinate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;(int):&nbsp;Column&nbsp;coordinate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;remove&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;removes&nbsp;the&nbsp;piece&nbsp;(sets&nbsp;grid&nbsp;cells&nbsp;to&nbsp;None).</span></dd></dl>

<dl><dt><a name="HexGame-regenerate_level"><strong>regenerate_level</strong></a>(self)</dt><dd><span class="code">Regenerates&nbsp;a&nbsp;new&nbsp;puzzle&nbsp;level.</span></dd></dl>

<dl><dt><a name="HexGame-reset_grid"><strong>reset_grid</strong></a>(self)</dt><dd><span class="code">Resets&nbsp;the&nbsp;grid&nbsp;and&nbsp;puts&nbsp;all&nbsp;pieces&nbsp;back&nbsp;in&nbsp;inventory.</span></dd></dl>

<dl><dt><a name="HexGame-run"><strong>run</strong></a>(self)</dt><dd><span class="code">Main&nbsp;game&nbsp;loop.&nbsp;Handles&nbsp;events&nbsp;and&nbsp;updates&nbsp;the&nbsp;solver.</span></dd></dl>

<dl><dt><a name="HexGame-screen_to_grid"><strong>screen_to_grid</strong></a>(self, x, y, required_parity=None)</dt><dd><span class="code">Convert&nbsp;screen&nbsp;coordinates&nbsp;to&nbsp;approximate&nbsp;grid&nbsp;coordinates.<br>
This&nbsp;is&nbsp;a&nbsp;heuristic&nbsp;approach&nbsp;finding&nbsp;the&nbsp;closest&nbsp;cell&nbsp;center.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;(float):&nbsp;Screen&nbsp;x&nbsp;coordinate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;(float):&nbsp;Screen&nbsp;y&nbsp;coordinate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;required_parity&nbsp;(int,&nbsp;optional):&nbsp;If&nbsp;set,&nbsp;only&nbsp;returns&nbsp;cells&nbsp;with&nbsp;(r+c)%2&nbsp;==&nbsp;parity.</span></dd></dl>

<dl><dt><a name="HexGame-solve_generator"><strong>solve_generator</strong></a>(self)</dt><dd><span class="code">Coroutine&nbsp;generator&nbsp;for&nbsp;the&nbsp;backtracking&nbsp;solver.<br>
Yields&nbsp;control&nbsp;back&nbsp;to&nbsp;the&nbsp;main&nbsp;loop&nbsp;to&nbsp;allow&nbsp;for&nbsp;GUI&nbsp;updates.<br>
&nbsp;<br>
Yields:<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool:&nbsp;True&nbsp;if&nbsp;solved,&nbsp;False&nbsp;if&nbsp;continuing&nbsp;search.</span></dd></dl>

<dl><dt><a name="HexGame-start_solving"><strong>start_solving</strong></a>(self)</dt><dd><span class="code">Resets&nbsp;the&nbsp;puzzle&nbsp;and&nbsp;starts&nbsp;the&nbsp;automatic&nbsp;solver.</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object</span></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor data-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Data</strong></td></tr>
    
<tr><td class="decor data-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><strong>BG_COLOR</strong> = (15, 15, 20)<br>
<strong>BUTTON_COLOR</strong> = (50, 150, 50)<br>
<strong>BUTTON_HOVER_COLOR</strong> = (70, 180, 70)<br>
<strong>BUTTON_TEXT_COLOR</strong> = (255, 255, 255)<br>
<strong>GRID_COLOR</strong> = (220, 220, 220)<br>
<strong>HEX_SIDE</strong> = 3<br>
<strong>INVENTORY_BG_COLOR</strong> = (20, 20, 25)<br>
<strong>INVENTORY_RATIO</strong> = 0.4<br>
<strong>PIECE_COLORS_RGB</strong> = [(255, 107, 107), (78, 205, 196), (255, 230, 109), (26, 83, 92), (247, 255, 247), (255, 50, 50), (100, 100, 255), (100, 255, 100), (255, 100, 255), (100, 255, 255), (255, 150, 50), (150, 50, 255), (50, 250, 150), (250, 50, 150), (50, 150, 250), (200, 200, 200)]<br>
<strong>TARGET_DELAY</strong> = 50<br>
<strong>TEXT_COLOR</strong> = (200, 200, 200)</td></tr></table>
</body></html>